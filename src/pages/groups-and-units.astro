---
import BaseLayout from "@/layouts/base.layout.astro";
import { getCollection } from "astro:content";
import { Image } from "astro:assets";

const groups = await getCollection("groups");
---

<BaseLayout title="Groups and Units">
	<h1>Groups and Units</h1>

	<div class="grid grid-cols-1 gap-1 sm:grid-cols-2 md:grid-cols-4">
		{
			groups &&
				groups.map((group) => (
					<div>
						<a href={group.data.url} class="block relative group">
							<Image
								loading={"lazy"}
								src={group.data.image}
								alt={"Image of a 1st chertsey scout"}
								quality={100}
								class="w-full h-full object-cover transition duration-300 ease-in-out group-hover:brightness-50"
							/>

							<div class="absolute inset-0 flex flex-col items-center justify-center opacity-0 group-hover:opacity-100 transition duration-300 ease-in-out">
								<h2 class="text-white text-2xl font-semibold mb-2">
									{group.data.name}
								</h2>
							</div>
						</a>
					</div>
				))
		}
	</div>
</BaseLayout>
